{
   "builders": [
      {
         "name": "centos-7.3",
         "output_directory": "output/",
         "http_directory": "kickstart",

         "iso_url": "http://mirrors.kernel.org/centos/7.3.1611/isos/x86_64/CentOS-7-x86_64-DVD-1611.iso",
         "iso_checksum": "c455ee948e872ad2194bdddd39045b83634e8613249182b88f549bb2319d97eb",
         "iso_checksum_type": "sha256",

         "type": "qemu",
         "accelerator": "kvm",
         "headless": false,

         "boot_command": [
            "<tab> ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos-7.3.cfg<enter>"
         ],
         "boot_wait": "10s",
         "shutdown_command": "echo 'password' | sudo -S shutdown -h now",

         "ssh_username": "admin",
         "ssh_password": "password",
         "ssh_port": "22",
         "ssh_wait_timeout": "25m",

         "shutdown_command": "echo 'password' | sudo -S shutdown -h now"
      }
   ],
   "provisioners": [
      {
         "type": "ansible",
         "playbook_file": "./setup.yaml"
      }
   ],
   "post-processors": [
      {
        "type": "vagrant",
        "output": "builds/CentOS-7.3.{{.Provider}}.box"
      }
   ],
   "variables": {
      "iso_name": "CentOS-7-x86_64-DVD-1611.iso",
      "cpus": "4",
      "memory": "4096"
   }
}
